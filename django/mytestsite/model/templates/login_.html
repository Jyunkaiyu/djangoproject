<!DOCTYPE html>
<html>

<head>
  {% load static %}
  <link rel="stylesheet" href="/static/plugins/bootstrap-5.2.0-beta1-dist/css/bootstrap.css" />
  <script type="text/javascript"
    src="{% static  'plugins/bootstrap-5.2.0-beta1-dist/js/bootstrap.bundle.js' %}"></script>
  <!-- <script type="text/javascript"
    src="{% static  'plugins/bootstrap-5.2.0-beta1-dist/js/bootstrap.bundle.min.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
    integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
    integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
    crossorigin="anonymous"></script> -->
</head>

<body>
  <div class="container-fluid h-100  text-dark">

    {% if page == 'login' %}
    <br>
    <div class="row justify-content-center align-items-center h-100">
      <div class="col col-sm-6 col-md-6 col-lg-4 col-xl-3">
        <form action="" method="post">
          {% csrf_token %}
          <div class="row text-center">
            <div class="col align-self-center">
              <h1>登入</h1>
            </div>
          </div>

          <div class="form-floating">
            <input type="text" class="form-control" name="username" id="user">
            <label for="user">使用者名稱</label>
          </div>
          <br>
          <div class="form-floating">
            <input type="password" class="form-control" id="floatingPassword" name="password">
            <label for="floatingPassword">密碼</label>
          </div>
          <br>
          <div class="row text-center">
            <div class="col align-self-center">
              <input class="btn btn-outline-primary" type="submit" value="登入">
            </div>
            <div class="col ">
              <a class="btn btn-outline-primary" href="{% url 'password_reset' %}">忘記密碼</a>
            </div>
          </div>
        </form>
        <br>
        <div class="row text-center">
          <div class="col align-self-center">
            <p>還沒註冊嗎? <a href="{% url 'register' %}" class="btn btn-outline-primary">註冊</a></p>
          </div>

        </div>
      </div>
    </div>
    {% else %}
    <br>
    <div class="row justify-content-center align-items-center h-100">
      <div class="col col-sm-6 col-md-6 col-lg-4 col-xl-3">
        <!-- <h1 class="h3 mb-3 fw-normal">註冊</h1> -->
        <form method="post" action="" class="">
          {% csrf_token %}
          <div class="row text-center">
            <div class="col align-self-center">
              <h1>註冊</h1>
            </div>
          </div>

          {% for field in form %}
          <div class="form-floating">
            {{ field }}
            <label for="{{ field.label }}">{{ field.label }}</label>
          </div>
          <br>
          {% endfor %}
          <div class="row text-center">
            <div class="col align-self-center">
              <input type="submit" class="btn btn-outline-primary" value="註冊" />
            </div>
            <div class="col align-self-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                class="bi bi-info-circle" viewBox="0 0 16 16" data-bs-toggle="tooltip" data-bs-placement="top"
                data-bs-title="你的密碼必須包含至少 8 個字元。你的密碼不能完全是數字。" class="col align-self-end">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                <path
                  d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" />
              </svg>
            </div>
          </div>
          <br>
          <div class="row text-center">
            <div class="col align-self-center">
              <p>已經有帳號? <a href="{% url 'login' %}" class="btn btn-outline-primary">登入</a></p>
            </div>
          </div>
        </form>
      </div>
    </div>
    {% endif %}
    <!-- <div>
      {% if messages %}
      <ul class="messages">
        {% for message in messages %}
        <li>{{ message }}</li>
        {% endfor %}
      </ul>
      {% endif %}
    </div> -->
    <div class="row text-center">
      <div class="col align-self-start">
        {% if form.errors %}
        {% for field in form %}
        {% for error in field.errors %}
        <div class=”alert alert-danger”>
          <strong>{{ error|escape }}</strong>
        </div>
        {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
        <div class=”alert alert-danger”>
          <strong>{{ error|escape }}</strong>
        </div>
        {% endfor %}
        {% endif %}
      </div>
    </div>

  </div>
</body>
<footer>
</footer>
<script type="text/javascript">
  const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
  const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
</script>

</html>